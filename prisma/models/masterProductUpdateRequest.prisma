// ##########----------Master Product Update Model----------##########
model MasterProductUpdateRequest {
    id                 String          @id @default(uuid())
    productManagerId   String?
    masterProductId    String?
    productCategoryId  String?
    productName        String?         @db.VarChar(100)
    productDescription String?         @db.VarChar(100)
    loanTypeId         String
    deliveryChannel    DeliveryChannel
    partnerId          String?
    isApproved         Boolean         @default(false)
    isRejected         Boolean         @default(false)
    rejectionReason    String?
    createdAt          DateTime        @default(now())
    updatedAt          DateTime        @updatedAt
    isDeleted          Boolean         @default(false)

    productCategory ProductCategory?   @relation(fields: [productCategoryId], references: [id], onDelete: Cascade)
    productManager  AssociateSubAdmin? @relation(fields: [productManagerId], references: [id], onDelete: Cascade)
    masterProduct   MasterProduct?     @relation(fields: [masterProductId], references: [id], onDelete: Cascade)
    loanType        LoanType?          @relation(fields: [loanTypeId], references: [id], onDelete: Cascade)
    productPartner  ProductPartner?    @relation(fields: [partnerId], references: [id], onDelete: Cascade)

    financialTermsUpdate            FinancialTermsUpdate?
    eligibilityCriteriaUpdate       EligibilityCriteriaUpdate?
    creditBureauConfigUpdate        CreditBureauConfigUpdate?
    masterProductOtherChargesUpdate MasterProductOtherChargesUpdate?

    MasterProductPurposeUpdate      MasterProductPurposeUpdate[]
    MasterProductSegmentUpdate      MasterProductSegmentUpdate[]
    FinancialDisbursementModeUpdate FinancialDisbursementModeUpdate[]
    FinancialRepaymentModeUpdate    FinancialRepaymentModeUpdate[]
}

// ##########----------Master Product Purpose Update Model----------##########
model MasterProductPurposeUpdate {
    id              String @id @default(uuid())
    updateRequestId String
    purposeId       String

    masterProductUpdate MasterProductUpdateRequest @relation(fields: [updateRequestId], references: [id], onDelete: Cascade)
    productPurpose      ProductPurpose             @relation(fields: [purposeId], references: [id], onDelete: Cascade)
}

// ##########----------Master Product Segment Update Model----------##########
model MasterProductSegmentUpdate {
    id              String @id @default(uuid())
    updateRequestId String
    segmentId       String

    masterProductUpdate MasterProductUpdateRequest @relation(fields: [updateRequestId], references: [id], onDelete: Cascade)
    productSegment      ProductSegment             @relation(fields: [segmentId], references: [id], onDelete: Cascade)
}

// ##########----------Financial Disbursement Mode Update Model----------##########
model FinancialDisbursementModeUpdate {
    id              String @id @default(uuid())
    updateRequestId String?
    disbursementId  String?

    masterProductUpdate MasterProductUpdateRequest? @relation(fields: [updateRequestId], references: [id], onDelete: Cascade)
    disbursementMode    DisbursementMode?           @relation(fields: [disbursementId], references: [id], onDelete: Cascade)
}

// ##########----------Financial Repayment Mode Update Model----------##########
model FinancialRepaymentModeUpdate {
    id              String @id @default(uuid())
    updateRequestId String?
    repaymentId     String?

    masterProductUpdate MasterProductUpdateRequest? @relation(fields: [updateRequestId], references: [id], onDelete: Cascade)
    RepaymentModes      RepaymentModes?             @relation(fields: [repaymentId], references: [id], onDelete: Cascade)
}

// ##########----------Financial Terms Update Model----------##########
model FinancialTermsUpdate {
    id                  String       @id @default(uuid())
    updateRequestId     String       @unique
    minLoanAmount       Int
    maxLoanAmount       Int
    minTenureMonths     Int
    maxTenureMonths     Int
    interestRateType    InterestType
    interestRateMin     Float
    interestRateMax     Float
    processingFeeType   FeeType
    processingFeeValue  Float
    latePaymentFeeType  FeeType
    latePaymentFeeValue Float
    prepaymentAllowed   Boolean
    prepaymentFeeType   FeeType
    prepaymentFeeValue  Float
    overallGst          Float        @default(0.0)
    emiFrequency        EMIFrequency
    penalApplicable     Boolean      @default(false)
    penalRate           Float        @default(0.0)
    gracePeriod         Int          @default(0)
    renewalFee          Float        @default(0.0)

    masterProductUpdate MasterProductUpdateRequest @relation(fields: [updateRequestId], references: [id], onDelete: Cascade)
}

// ##########----------Master Product Fee Structure Update Model----------##########
model EligibilityCriteriaUpdate {
    id                  String  @id @default(uuid())
    updateRequestId     String  @unique
    minAge              Int
    maxAge              Int
    minMonthlyIncome    Int
    minBusinessVintage  Int
    minBureauScore      Int
    coApplicantRequired Boolean @default(false)
    collateralRequired  Boolean @default(false)

    masterProductUpdate MasterProductUpdateRequest @relation(fields: [updateRequestId], references: [id], onDelete: Cascade)
}

// ##########----------Master Product Security Compliance Update Model----------##########
model CreditBureauConfigUpdate {
    id                      String            @id @default(uuid())
    updateRequestId         String            @unique
    creditBureauSources     BureauType[]
    minScoreRequired        Int
    maxActiveLoans          Int
    maxCreditUtilization    Float
    enquiriesLast6Months    Int
    loanDelinquencyAllowed  DelinquencyOption
    bureauDataFreshnessDays Int
    scoreDecayTolerance     Int

    masterProductUpdate MasterProductUpdateRequest @relation(fields: [updateRequestId], references: [id])
}

// ##########----------Master Product Other Charges Update Model----------##########
model MasterProductOtherChargesUpdate {
    id                 String   @id @default(uuid())
    updateRequestId    String   @unique
    chequeBounceCharge Int?
    dublicateNocCharge Int?
    furnishingCharge   Int?
    chequeSwapCharge   Int?
    revocation         Int?
    documentCopyCharge Int?
    stampDutyCharge    Int?
    nocCharge          Int?
    incidentalCharge   Int?
    createdAt          DateTime @default(now())
    updatedAt          DateTime @updatedAt
    isDeleted          Boolean  @default(false)

    masterProductUpdate MasterProductUpdateRequest? @relation(fields: [updateRequestId], references: [id], onDelete: Cascade)
}
