// ##########----------Sub-Admin Profile Model Start's here----------##########
model AssociateSubAdmin {
    id          String      @id @default(uuid())
    userId      String?     @unique
    associateId String?
    name        String?
    email       String?     @unique @db.VarChar(100)
    mobile      String?     @db.VarChar(10)
    roleId      String?
    password    String      @db.VarChar(128)
    isActive    Boolean     @default(false)
    createdAt   DateTime    @default(now())
    updatedAt   DateTime    @updatedAt
    isDeleted   Boolean     @default(false)
    user        CustomUser? @relation(fields: [userId], references: [id], onDelete: Cascade)
    associate   Associate?  @relation(fields: [associateId], references: [id], onDelete: Cascade)
    role        Role?       @relation(fields: [roleId], references: [id], onDelete: Cascade)

    Employer                    Employer[]
    AssociateSubAdminModule     AssociateSubAdminModule[]
    MasterProduct               MasterProduct[]
    VariantProduct              VariantProduct[]
    masterProductUpdateRequests MasterProductUpdateRequest[]
    AllocateProductToEmployer   AllocateProductToEmployer[]
    queriesRaised               RaiseQuery[]                 @relation("RaisedByRelation")
    queriesAssigned             RaiseQuery[]                 @relation("AssignedToRelation")
    KYCRequest                  KYCRequest[]
}

// ##########----------Sub-Admin Modules Model Start's here----------##########
model AssociateSubAdminModule {
    id                  String             @id @default(uuid())
    associateSubAdminId String?
    moduleId            String?
    createdAt           DateTime           @default(now())
    updatedAt           DateTime           @updatedAt
    isDeleted           Boolean            @default(false)
    associateSubAdmin   AssociateSubAdmin? @relation(fields: [associateSubAdminId], references: [id], onDelete: Cascade)
    module              Module?            @relation(fields: [moduleId], references: [id], onDelete: Cascade)
}

// ##########----------Query Category Model Start's here----------##########
model QueryCategory {
    id        String   @id @default(uuid())
    name      String?
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    isDeleted Boolean  @default(false)

    QuerySubCategory QuerySubCategory[]
    queries          RaiseQuery[]
}

// ##########----------Query Sub-Category Model Start's here----------##########
model QuerySubCategory {
    id              String   @id @default(uuid())
    queryCategoryId String?
    name            String?
    description     String?
    createdAt       DateTime @default(now())
    updatedAt       DateTime @updatedAt
    isDeleted       Boolean  @default(false)

    queryCategory QueryCategory? @relation(fields: [queryCategoryId], references: [id], onDelete: Cascade)

    queries RaiseQuery[]
}

// ##########----------Query Model Start's here----------##########
model RaiseQuery {
    id            String             @id @default(uuid())
    raisedById    String?
    assignedToId  String?
    productId     String?
    employerName  String?
    categoryId    String?
    subCategoryId String?
    urgency       Urgency?
    description   String?
    queryStatus   Boolean?           @default(true)
    createdAt     DateTime           @default(now())
    updatedAt     DateTime           @updatedAt
    isDeleted     Boolean            @default(false)
    RaisedBy      AssociateSubAdmin? @relation("RaisedByRelation", fields: [raisedById], references: [id], onDelete: Cascade)
    AssignedTo    AssociateSubAdmin? @relation("AssignedToRelation", fields: [assignedToId], references: [id], onDelete: Cascade)
    product       VariantProduct?    @relation(fields: [productId], references: [id], onDelete: Cascade)
    category      QueryCategory?     @relation(fields: [categoryId], references: [id], onDelete: Cascade)
    subCategory   QuerySubCategory?  @relation(fields: [subCategoryId], references: [id], onDelete: Cascade)
}
