// ##########----------Variant Product Update Request Model----------##########
model VariantProductUpdateRequest {
    id               String      @id @default(uuid())
    variantProductId String
    productManagerId String
    productType      ProductType
    variantName      String      @db.VarChar(150)
    variantType      String      @db.VarChar(30)
    partnerId        String?
    remark           String
    isApproved       Boolean     @default(false)
    isrejected       Boolean     @default(false)
    rejectionReason  String
    createdAt        DateTime    @default(now())
    updatedAt        DateTime    @updatedAt
    isDeleted        Boolean     @default(false)

    variantProduct VariantProduct @relation(fields: [variantProductId], references: [id], onDelete: Cascade)
    productPartner ProductPartner?    @relation(fields: [partnerId], references: [id], onDelete: Cascade)
    productManager AssociateSubAdmin? @relation(fields: [productManagerId], references: [id], onDelete: Cascade)

    VariantProductParameterUpdate    VariantProductParameterUpdate?
    VariantProductOtherChargesUpdate VariantProductOtherChargesUpdate?
    VariantProductRepaymentUpdate    VariantProductRepaymentUpdate?
}

// ##########----------Variant Product Parameter Update Model----------##########
model VariantProductParameterUpdate {
    id                      String       @id @default(uuid())
    updateRequestId         String       @unique
    minLoanAmount           Int
    maxLoanAmount           Int
    minTenureMonths         Int
    maxTenureMonths         Int
    interestRateType        InterestType
    interestRateMin         Float
    interestRateMax         Float
    processingFeeType       FeeType
    processingFeeValue      Float
    latePaymentFeeType      FeeType
    latePaymentFeeValue     Float
    penalInterestApplicable Boolean
    emiFrequency            EMIFrequency
    prepaymentFeeType       FeeType
    prepaymentFeeValue      Float
    penalInterestRate       Int
    minAge                  Int
    maxAge                  Int

    VariantProductUpdateRequest VariantProductUpdateRequest? @relation(fields: [updateRequestId], references: [id], onDelete: Cascade)
}

// ##########----------Variant Product Other Charges Update Model----------##########
model VariantProductOtherChargesUpdate {
    id                 String   @id @default(uuid())
    updateRequestId    String   @unique
    chequeBounceCharge Int?
    dublicateNocCharge Int?
    furnishingCharge   Int?
    chequeSwapCharge   Int?
    revocation         Int?
    documentCopyCharge Int?
    stampDutyCharge    Int?
    nocCharge          Int?
    incidentalCharge   Int?
    createdAt          DateTime @default(now())
    updatedAt          DateTime @updatedAt
    isDeleted          Boolean  @default(false)

    VariantProductUpdateRequest VariantProductUpdateRequest? @relation(fields: [updateRequestId], references: [id], onDelete: Cascade)
}

// ##########----------Variant Product Repayment Update Model----------##########
model VariantProductRepaymentUpdate {
    id                          String   @id @default(uuid())
    updateRequestId             String   @unique
    penalInterestApplicable     Boolean
    incentiveType               String?
    incentiveValue              Int?
    payoutMode                  String?
    incentiveReversalConditions String?
    createdAt                   DateTime @default(now())
    updatedAt                   DateTime @updatedAt
    isDeleted                   Boolean  @default(false)

    VariantProductUpdateRequest VariantProductUpdateRequest? @relation(fields: [updateRequestId], references: [id], onDelete: Cascade)
}
