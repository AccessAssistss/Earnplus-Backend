// ##########----------Product Category Model Start's here----------##########
model ProductCategory {
    id           String   @id @default(uuid())
    categoryName String?  @db.VarChar(100)
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
    isDeleted    Boolean  @default(false)

    ProductPurpose ProductPurpose[]
    MasterProduct  MasterProduct[]
}

// ##########----------Product Category Model Ends's here----------##########

// ##########----------Product Purpose Model Start's here----------##########
model ProductPurpose {
    id                String   @id @default(uuid())
    productCategoryId String?
    purpose           String?
    createdAt         DateTime @default(now())
    updatedAt         DateTime @updatedAt
    isDeleted         Boolean  @default(false)

    productCategory      ProductCategory?       @relation(fields: [productCategoryId], references: [id], onDelete: Cascade)
    MasterProductPurpose MasterProductPurpose[]
}

// ##########----------Product Purpose Model Ends's here----------##########

// ##########----------Product Common UseCase Model Start's here----------##########
model CommonUseCase {
    id                         String                       @id @default(uuid())
    name                       String?                      @db.VarChar(100)
    createdAt                  DateTime                     @default(now())
    updatedAt                  DateTime                     @updatedAt
    isDeleted                  Boolean                      @default(false)
    MasterProductCommonUseCase MasterProductCommonUseCase[]
}

// ##########----------Product Common UseCase Model Ends's here----------##########

// ##########----------Target Customer Type Model Start's here----------##########
model CustomerType {
    id                        String                      @id @default(uuid())
    name                      String?                     @db.VarChar(100)
    createdAt                 DateTime                    @default(now())
    updatedAt                 DateTime                    @updatedAt
    isDeleted                 Boolean                     @default(false)
    MasterProductCustomerType MasterProductCustomerType[]
}

// ##########----------Target Customer Type Model Ends's here----------##########

// ####################--------------------Master Product Models--------------------####################
// ##########----------Master Product Model Start's here----------##########
model MasterProduct {
    id                 String      @id @default(uuid())
    productManagerId   String?
    productCategoryId  String?
    productType        ProductType
    versionId          String?     @db.VarChar(80)
    productName        String?     @db.VarChar(100)
    productCode        String?     @db.VarChar(100)
    productDescription String?     @db.VarChar(100)
    createdAt          DateTime    @default(now())
    updatedAt          DateTime    @updatedAt
    isDeleted          Boolean     @default(false)

    productCategory ProductCategory?   @relation(fields: [productCategoryId], references: [id], onDelete: Cascade)
    productManager  AssociateSubAdmin? @relation(fields: [productManagerId], references: [id], onDelete: Cascade)

    MasterProductLoanStructure      MasterProductLoanStructure?
    MasterProductFeeStructure       MasterProductFeeStructure?
    MasterProductSecurityCompliance MasterProductSecurityCompliance?
    MasterProductDisbursementRules  MasterProductDisbursementRules?
    MasterProductPerformance        MasterProductPerformance?
    MasterProductPurpose            MasterProductPurpose[]
    MasterProductCommonUseCase      MasterProductCommonUseCase[]
    MasterProductCustomerType       MasterProductCustomerType[]
    VariantProduct                  VariantProduct[]
}

// ##########----------Master Product Model Ends's here----------##########

// ##########----------Master Product Purpose Model Starts's here----------##########
model MasterProductPurpose {
    id              String @id @default(uuid())
    masterProductId String
    purposeId       String

    masterProduct  MasterProduct  @relation(fields: [masterProductId], references: [id], onDelete: Cascade)
    productPurpose ProductPurpose @relation(fields: [purposeId], references: [id], onDelete: Cascade)
}

// ##########----------Master Product Purpose Model Ends's here----------##########

// ##########----------Master Product Common UseCase Model Starts's here----------##########
model MasterProductCommonUseCase {
    id              String @id @default(uuid())
    masterProductId String
    commonuseCaseId String

    masterProduct MasterProduct @relation(fields: [masterProductId], references: [id], onDelete: Cascade)
    commonuseCase CommonUseCase @relation(fields: [commonuseCaseId], references: [id], onDelete: Cascade)
}

// ##########----------Master Product Common UseCase Model Ends's here----------##########

// ##########----------Master Product Customer Type Model Starts's here----------##########
model MasterProductCustomerType {
    id              String @id @default(uuid())
    masterProductId String
    customerTypeId  String

    masterProduct MasterProduct @relation(fields: [masterProductId], references: [id], onDelete: Cascade)
    customerType  CustomerType  @relation(fields: [customerTypeId], references: [id], onDelete: Cascade)
}

// ##########----------Master Product Customer Type Model Ends's here----------##########

// ##########----------Master Product Tenure Type Model Start's here----------##########
// model TenureType {
//   id         String   @id @default(uuid())
//   tenureType String?  @db.VarChar(100)
//   createdAt  DateTime @default(now())
//   updatedAt  DateTime @updatedAt
//   isDeleted  Boolean  @default(false)

//   TenureUnit TenureUnit[]
// }

// ##########----------Master Product Tenure Type Model Ends's here----------##########

// ##########----------Master Product Tenure Unit Model Start's here----------##########
// model TenureUnit {
//   id           String   @id @default(uuid())
//   tenureTypeId String?
//   createdAt    DateTime @default(now())
//   updatedAt    DateTime @updatedAt
//   isDeleted    Boolean  @default(false)

//   tenureType TenureType? @relation(fields: [tenureTypeId], references: [id], onDelete: Cascade)
// }

// ##########----------Master Product Tenure Unit Model Ends's here----------##########

// ##########----------Master Product Loan Structure Model Start's here----------##########
model MasterProductLoanStructure {
    id                          String       @id @default(uuid())
    masterProductId             String       @unique
    minLoanAmount               Int?
    maxLoanAmount               Int?
    tenureType                  TenureType
    tenureUnit                  TenureUnit
    minTenure                   Int?
    maxTenure                   Int?
    allowedTenureValues         String?      @db.VarChar(50)
    defaultTenure               String?      @db.VarChar(50)
    isTenureBasedOnPaymentCycle Boolean?
    tenureCalcLogic             String?      @db.VarChar(50)
    allowRepaymentOverride      Boolean?
    interestType                InterestType
    interestRate                Int?
    gracePeriod                 Int?
    penalInterestRate           Int?
    moratoriumPeriod            Int?
    repaymentMethod             String?      @db.VarChar(50)
    latePaymentFee              Int?
    prePaymentAllowed           Boolean?
    paymentCharges              Int?
    lockinPeriod                Int?
    createdAt                   DateTime     @default(now())
    updatedAt                   DateTime     @updatedAt
    isDeleted                   Boolean      @default(false)

    masterProduct MasterProduct? @relation(fields: [masterProductId], references: [id], onDelete: Cascade)
}

// ##########----------Master Product Loan Structure Model Ends's here----------##########

// ##########----------Master Product Fee Structure Model Start's here----------##########
model MasterProductFeeStructure {
    id                   String   @id @default(uuid())
    masterProductId      String   @unique
    processingFee        Int?
    processingFeeGst     Int?
    setupFee             Int?
    setupFeeGst          Int?
    subscriptionOption   Boolean?
    perTransactionFee    Int?
    perTransactionFeeGst Int?
    insuranceCharge      Int?
    insuranceChargeGst   Int?
    otherCharges         Int?
    otherChargesGst      Int?
    createdAt            DateTime @default(now())
    updatedAt            DateTime @updatedAt
    isDeleted            Boolean  @default(false)

    masterProduct MasterProduct? @relation(fields: [masterProductId], references: [id], onDelete: Cascade)
}

// ##########----------Master Product Fee Structure Model Ends's here----------##########

// ##########----------Master Product Security Compliance Model Start's here----------##########
model MasterProductSecurityCompliance {
    id                    String                @id @default(uuid())
    masterProductId       String                @unique
    collateralRequired    Boolean?
    collateralType        CollateralType?
    kycRequired           Boolean?
    coBorrowerRequired    Boolean?
    insuranceBundeled     Boolean?
    creditBureauMandatory Boolean?
    minCibil              Int?
    concentFormat         ConcentCaptureFormat?
    defaultReporting      Int?
    riskCategory          RiskCategory?
    createdAt             DateTime              @default(now())
    updatedAt             DateTime              @updatedAt
    isDeleted             Boolean               @default(false)

    masterProduct MasterProduct? @relation(fields: [masterProductId], references: [id], onDelete: Cascade)
}

// ##########----------Master Product Security Compliance Model Ends's here----------##########

// ##########----------Master Product Disbursement Rule Model Start's here----------##########
model MasterProductDisbursementRules {
    id                String             @id @default(uuid())
    masterProductId   String             @unique
    disbursementMode  DisbursementModes?
    varientAllowed    Boolean?
    apiEnabledProduct Boolean?
    createdAt         DateTime           @default(now())
    updatedAt         DateTime           @updatedAt
    isDeleted         Boolean            @default(false)

    masterProduct MasterProduct? @relation(fields: [masterProductId], references: [id], onDelete: Cascade)
}

// ##########----------Master Product Disbursement Rule Model Ends's here----------##########

// ##########----------Master Product Employer Tagging Model Start's here----------##########
// model MasterProductEmployerTagging {
//   id              String   @id @default(uuid())
//   masterProductId String
//   employerLinked  Boolean?
//   employerId      Boolean?
//   loanCap         Int?
//   repaymentSource String?
//   createdAt       DateTime @default(now())
//   updatedAt       DateTime @updatedAt
//   isDeleted       Boolean  @default(false)

//   masterProduct MasterProduct? @relation(fields: [masterProductId], references: [id], onDelete: Cascade)
// }

// ##########----------Master Product Employer Tagging Model Ends's here----------##########

// ##########----------Master Product Performance Model Start's here----------##########
model MasterProductPerformance {
    id                          String   @id @default(uuid())
    masterProductId             String   @unique
    monitoringType              String?
    delinquencyTriggerThreshold String?
    portfolioCap                Int?
    reviewCycle                 String?
    createdAt                   DateTime @default(now())
    updatedAt                   DateTime @updatedAt
    isDeleted                   Boolean  @default(false)

    masterProduct MasterProduct? @relation(fields: [masterProductId], references: [id], onDelete: Cascade)
}

// ##########----------Master Product Performance Model Ends's here----------##########
