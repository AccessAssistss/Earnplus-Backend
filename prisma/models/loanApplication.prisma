// ####################--------------------Loan Application Model--------------------####################
model LoanApplication {
    id         String   @id @default(uuid())
    customerId String
    productId  String
    loanCode   String   @unique
    createdAt  DateTime @default(now())
    updatedAt  DateTime @updatedAt

    employee      Employee         @relation(fields: [customerId], references: [id])
    masterProduct MasterProduct    @relation(fields: [productId], references: [id])
    fieldValues   LoanFieldValue[]
}

// ####################--------------------Loan Field Model--------------------####################
model LoanFieldValue {
    id            String   @id @default(uuid())
    applicationId String
    fieldId       String
    dropdownId    String?
    subFieldId    String?
    value         String?
    createdAt     DateTime @default(now())
    updatedAt     DateTime @updatedAt

    field           Field           @relation(fields: [fieldId], references: [id])
    dropdown        Dropdown?       @relation(fields: [dropdownId], references: [id])
    subField        SubField?       @relation(fields: [subFieldId], references: [id])
    loanApplication LoanApplication @relation(fields: [applicationId], references: [id], onDelete: Cascade)
}
