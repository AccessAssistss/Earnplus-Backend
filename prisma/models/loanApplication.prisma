// ####################--------------------Loan Application Model--------------------####################
model LoanApplication {
    id          String   @id @default(uuid())
    customerId  String
    productId   String
    submittedAt DateTime @default(now())
    updatedAt   DateTime @updatedAt

    employee      Employee         @relation(fields: [customerId], references: [id])
    masterProduct MasterProduct    @relation(fields: [productId], references: [id])
    fieldValues   LoanFieldValue[]
    documents     LoanDocument[]
}

// ####################--------------------Loan Field Model--------------------####################
model LoanFieldValue {
    id                String  @id @default(uuid())
    loanApplicationId String
    fieldId           String
    value             String?
    dropdownId        String?
    subFieldId        String?

    loanApplication LoanApplication @relation(fields: [loanApplicationId], references: [id])
}

model LoanDocument {
    id                String  @id @default(uuid())
    loanApplicationId String
    type              String
    url               String
    verified          Boolean @default(false)

    loanApplication LoanApplication @relation(fields: [loanApplicationId], references: [id])
}
